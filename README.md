# Explore with Me

**Explore with Me** — сервис для публикации и поиска событий, который позволяет пользователям делиться мероприятиями и находить интересные активности и компанию для участия.

Приложение состоит из двух независимых сервисов: сервиса статистики и основного сервиса.

---

## Сервис статистики

Сервис отвечает за сбор и анализ информации о просмотрах эндпоинтов основного приложения.

### Возможности
- хранение данных о посещениях URI;
- получение агрегированной статистики с фильтрацией по времени и ресурсам;
- взаимодействие с основным сервисом через HTTP-клиент.

### Эндпоинты
- `POST /hit` — сохранение информации о запросе к сервису;
- `GET /stats` — получение статистики посещений.

---

## Основной сервис

Основной сервис реализует бизнес-логику приложения и предоставляет API для работы с событиями, пользователями и связанными сущностями.

API разделён на три уровня доступа:
- публичный — доступен без авторизации;
- пользовательский — для авторизованных пользователей;
- административный — для управления системой.

---

## Жизненный цикл события

Событие проходит следующие состояния:
- создание;
- ожидание публикации;
- публикация;
- отмена публикации.

---

## Основные возможности

- управление событиями и категориями;
- поиск и фильтрация событий;
- система заявок на участие;
- подборки событий;
- комментарии к событиям;
- сбор и отображение статистики просмотров.

---

## Примеры эндпоинтов

### Пользовательский API
- `POST /users/{userId}/events`
- `GET /users/{userId}/events`
- `PATCH /users/{userId}/events/{eventId}`
- `POST /users/{userId}/requests`

### Публичный API
- `GET /events`
- `GET /events/{id}`
- `GET /categories`
- `GET /compilations`

### Административный API
- `GET /admin/events`
- `PATCH /admin/events/{eventId}`
- `POST /admin/users`
- `POST /admin/categories`
- `POST /admin/compilations`
- `GET /admin/comments/search`

---

## API документация

Документация доступна в формате Swagger.  
Для просмотра необходимо импортировать файлы:
```
ewm-main-service-spec.json
ewm-stats-service-spec.json
```

### Запуск приложения

Потребуется Java 21, Docker, Maven

1. Склонировать

```
git clone https://github.com/gaan-d/java-explore-with-me
```

2. Собрать проект

```
mvn clean package
```

3. Запустить через Docker Compose

```
docker-compose up
```

